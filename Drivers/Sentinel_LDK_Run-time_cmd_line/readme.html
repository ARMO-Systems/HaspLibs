<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <style>
h1 {
font: normal normal bold 175%sans-serif;
font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
color: #f7941c;
}
h2, {
font: normal normal bold 150% font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;color: #f7941c;
}
h3, {
font: normal normal bold 100% font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;color: #f7941c;
}
h4, {
font: normal normal bold 100% font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;color: black;
}
body, {
font: normal normal normal smaller sans-serif;<font size="+1"></font>
font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
background-color: White;
Color: Black;
margin: 16px;
}
ul, {
font: normal normal normal 100%
font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
list-style: disc outside;
list-style-position: outside;
text-align: left;
margin: 16px;
}
li {
font: normal normal normal 100%
font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
text-align: left;
}
p{
font-family: sans-serif;
}
pre{
font-family: monospace;
}
note{
font-family: "Times New Roman", Times, serif;
font-size: x-small;
}
code {
font-family: "Courier New", Courier, monospace;
font-size: 98%;
}
a:link {
text-decoration: none;
}
a:visited {
text-decoration: none;
}
  </style>
  <title>Sentinel LDK and Sentinel HASP Run-time Environment
Command-line Installer: Readme</title>
</head>
<body>
<h1>Sentinel<sup>&reg;</sup>
LDK and Sentinel HASP<sup>&reg;</sup>
Run-time Environment Command-line Installer for Windows: Readme</h1>
<h2>Version 7.41</h2>
<h3>October 2015</h3>
<hr align="left">
<p>This document provides
information regarding the Run-time
Environment Command-line Installer for Sentinel HASP and Sentinel LDK,
including enhancements and limitations. Using this installer, you can
use HASP4, Hardlock, Sentinel HL, Sentinel HASP, and Sentinel LDK
under any of the supported operating systems. ("Sentinel LDK" is the
next generation of Sentinel HASP.)</p>
<p>The following topics are discussed:<a name="topics"></a></p>
<ul>
<li><a href="#OS_support" style="text-decoration: none; ">Operating Systems Supported</a></li>
<li><a href="#upgrading" style="text-decoration: none; ">Upgrading the Run-time Environment</a></li>
  <li><a href="#installing" style="text-decoration: none; ">Installing the Run-time Environment</a></li>
  <li><a href="#fixes" style="text-decoration: none; ">Issues Resolved in This Release</a></li>
  <li><a href="#history" style="text-decoration: none; ">Revision History</a></li>
  <li><a href="#knownIssues" style="text-decoration: none; ">Known Issues - Run-time
    Environment</a></li>
</ul>
<h2>Operating Systems Supported<a name="OS_support"></a></h2>
<ul>
  <li>Windows XP (X86) SP3</li>
  <li> Windows XP (X64) SP2</li>
  <li> Windows Vista SP2</li>
  <li> Windows 7 SP1</li>
  <li> Windows 8.1 SP1</li>
  <li>Windows 10</li>
  <li> Windows Server 2003 SP2</li>
  <li> Windows Server 2008 SP2</li>
  <li> Windows Server 2008 R2 SP1</li>
  <li> Windows Server 2012 R2</li>
  <li> Windows 7 SP1 Embedded
    standard (x86)<br>
  </li>
</ul>
<p>The operating system versions listed in this section were tested by SafeNet and verified to be fully compatible with Sentinel LDK. Older operating system versions are likely to be fully compatible as well, but are not guaranteed. For reasons of compatibility and security, SafeNet recommends that you always keep your operating system up to date with the latest fixes and service packs.</p>
<p> The installer detects the version of the operating system at run-time,
before
installing the relevant drivers. </p>
<p><a href="#topics" style="text-decoration: none; ">Back to Topics</a></p>
<h2>Upgrading the Run-time
  Environment<a name="upgrading"></a></h2>
<ul>
  <li>When upgrading the Run-time
    Environment, ensure that it is not currently being accessed (for
    example: by closing all applications). Although the installation
    program can
    terminate applications that are accessing the Run-time, it cannot
  terminate running services. </li>
  <br>
  <br>
  <li>If you are running HASP
    License Manager (HASP4 and HASP HL legacy
    License Manager) as a service, you must stop the License Manager before
    proceeding with the installation.</li>
</ul>
<p><a href="#topics" style="text-decoration: none; ">Back to Topics</a></p>
<h2>Installing the Run-time
  Environment<a name="installing"></a></h2>
<ul>
  <li>Type <b><code>haspdinst.exe
-?</code></b>
for command-line help.</li>
  <br>
  <br>
  <li>To use Sentinel EMS to
produce Run-time Environment installers in the Sentinel LDK v.6.0 or
later environment, overwrite the <code>haspdinst.exe</code>
file in <br>
    <b>%SystemDrive%\Program Files
(x86)\SafeNet Sentinel\Sentinel EMS\EMSServer\webapps\ems\haspTools\</b>
with the file in this package. (For Win32 systems, go to <b>%SystemDrive%\Program
Files\...</b>)</li>
  <br>
  <br>
  <li>A log file of the
installation process is written to <b>aksdrvsetup.log</b>
in the Windows directory.</li>
</ul>
<b>Note</b>
<ul>
  <li>By default, Windows Vista
(and later) operating systems display a <b>User
Account Control</b> message during
driver installation. Users must click <b>Continue</b>
to continue the installation. Alternatively, users can change the
default setting from the Control Panel of their operating system.</li>
</ul>
<p><a href="#topics" style="text-decoration: none; ">Back to Topics</a></p>
<h2>Issues Resolved in This Release<a name="fixes"></a></h2>
<table border="1" width="983">
  <tbody>
    <tr>
      <th scope="col" width="86">Reference</th>
      <th scope="col" width="881">Description</th>
    </tr>
    <tr>
      <td>LDK-12845</td>
      <td>Installation of Sentinel Run-time Environment version 7.40 on a machine with an obsolete version (11.5.x) of Intel RAID drivers would cause a Stop error (BSoD).</td>
    </tr>
  </tbody>
</table>
<p><a href="#topics" style="text-decoration: none; ">Back to Topics</a></p>
<h2>Revision History<a name="history"></a></h2>
<h3>Enhancements in Revision 7.40</h3>
<table border="1" width="983">
  <tbody>
    <tr>
      <th scope="col" width="85">Reference</th>
      <th scope="col" width="836">Description</th>
    </tr>
    <tr>
      <td>LDK-6938</td>
      <td> The Run-time Environment now supports Sentinel HL  Drive microSD keys.</td>
    </tr>
    <tr>
      <td>LDK-8350</td>
      <td>The diagnostic report in Admin Control  Center now provides additional information for driverless keys and updated  driver versions</td>
    </tr>
    <tr>
      <td>LDK-10079</td>
      <td>The diagnostic panel in Admin Control Center now  displays the version number for the Run-time Environment.</td>
    </tr>
    <tr>
      <td>LDK-10107</td>
      <td>The Admin Control Center log file now indicates the  version number for the Licensing API.</td>
    </tr>
    <tr>
      <td>LDK-10279</td>
      <td>The button in Admin Control Center for generating  C2V files is now blocked for HASP HL keys and Sentinel HL (HASP configuration)  keys.</td>
    </tr>
    <tr>
      <td>LDK-11034</td>
      <td>The Sentinel Keys page in Admin Control Center now  displays the capacity of attached Sentinel Drive microSD keys.</td>
    </tr>
    <tr>
      <td>LDK-11335</td>
      <td>Admin Control Center now displays the module name  (in addition to the Feature ID) for Sentinel Master keys and Sentinel Developer  keys.</td>
    </tr>
  </tbody>
</table>
<h3>Issues Resolved  in Version 7.40</h3>
<table border="1" width="983">
  <tbody>
    <tr>
      <th scope="col" width="86">Reference</th>
      <th scope="col" width="881">Description</th>
    </tr>
    <tr>
      <td>LDK-7237</td>
      <td>Under certain circumstances, Admin Control Center  would continue to show active sessions for an HL key after all sessions had  logged out of the key.</td>
    </tr>
    <tr>
      <td>LDK-8866 </td>
      <td>Under certain circumstances, if SL license information became corrupted, Sentinel LDK License Manager Service would crash instead of issuing an error message. As a result, it was not possible for the vendor to correct the situation by sending a license update.</td>
    </tr>
    <tr>
      <td>LDK-9797 </td>
      <td>The Run-time Environment did not provide a meaningful error message when a given License Manager ID was found on multiple machines in the same network. This situation is typically caused by cloning a VM. As a result, it was difficult to identify the source of the problem when the licenses on these machine were inaccessible. Now an appropriate error message is generated.</td>
    </tr>
    <tr>
      <td>LDK-9948&nbsp; </td>
      <td>Rehosting of an SL Legacy key to a different machine would fail with the return code HASP_CLONE_DETECTED.</td>
    </tr>
    <tr>
      <td>LDK-10273</td>
      <td> Admin Control Center would allow a  license to be detached even though the termination date for the detach was  invalid.</td>
    </tr>
    <tr>
      <td>LDK-10564 </td>
      <td>The Vendor ID for a Master key was not the same in Admin Control Center pages and in the Diagnostics Reports.</td>
    </tr>
    <tr>
      <td height="35">LDK-10857 </td>
      <td>When an iSCSI disk was connected to a Windows physical machine, the License Manager would regard the machine as a virtual machine.</td>
    </tr>
    <tr>
      <td>LDK-11478 </td>
      <td>After Run-time Environment v.7.32 was installed, running an application that was protected with Sentinel HASP Envelope (prior to Sentinel LDK 6.3) would cause a Stop error (BSoD).</td>
    </tr>
    <tr>
      <td>LDK-11787 </td>
      <td>Under certain circumstances, the Licensing API function hasp_get_info would always return a value of 0 as the value for  &lt;updateCounter&gt; for an SL license. Now the function returns the correct value for &lt;updateCounter&gt;.</td>
    </tr>
    <tr>
      <td>LDK-11825</td>
      <td>Admin Control Center was not able to  display an invalid HL key. Now such a key is visible in Admin Control Center  with an indication that the key is not valid.</td>
    </tr>
    <tr>
      <td>LDK-12196</td>
      <td>When an SL  key is installed on a machine with Run-time Environment 7.32 or 7.3, the  Run-time Environment would continually open additional handles.</td>
    </tr>
  </tbody>
</table>
<h3>Enhancements in Version 7.32</h3>
<table border="1" width="983">
  <tbody>
    <tr>
      <th scope="col" width="85">Reference</th>
      <th scope="col" width="836">Description</th>
    </tr>
    <tr>
      <td>LDK-6934</td>
      <td>Sentinel LDK Run-time Environment now supports the Sentinel HL Drive microSD key (patent pending). This key has been tested with the following microSD cards:
        <ul>
        <li>Sandisk: 16 GB, 64 GB</li>
        <li>Transcend: 16 GB, 64 GB</li>
        <li>Toshiba: 32 GB<lip>
        <li>Samsung: 64 GB</li>
        <li>Kingston: 64 GB, 256 GB, 512 GB</li>
        </ul>
        </td>
    </tr>
    <tr>
      <td>LDK-10090</td>
      <td>Run-time Environment is now supported under Windows 10 Technical Preview Build 10041.</td>
    </tr>
  </tbody>
</table>
<h3>Issues Resolved in Version 7.32</h3>
<table border="1" width="983">
  <tbody>
    <tr>
      <th scope="col" width="85">Reference</th>
      <th scope="col" width="836">Description</th>
    </tr>
    <tr>
      <td>LDK-9325 </td>
      <td>Given the following circumstances:
        <ul>
          <li>An SL key contains a Feature that allows concurrency but does not allow virtual machines.</li>
          <li>The SL key is installed on a physical machine.</li>
        </ul>
        When the SL key is displayed in Admin Control Center on a second physical machine, the Feature is shown as &quot;disabled&quot;. However, a protected application that includes that Feature operates correctly.</td>
    </tr>
    <tr>
      <td>LDK-8862 </td>
      <td>When attempting to access a remote License Manager, Sentinel Admin API would return the incorrect error code SNTL_ADMIN_LM_NOT_FOUND (6002).</td>
    </tr>
    <tr>
      <td height="215">LDK-7237 </td>
      <td>Given the following circumstances:
        <ol>
          <li>A license with concurrency is installed on a Sentinel protection key. The count criteria is &quot;Per Login&quot;.</li>
          <li>Protected applications that consume seats from the license are started.</li>
          <li>While the applications are active, the license is updated to change the count criteria (for example, from &quot;Per Login&quot; to &quot;Per Process&quot;).</li>
          <li>One or more protected applications are closed.</li>
        </ol>
        The Login count for the license would no longer match the number of actual applications active.<br>
        <br>
        As part of the resolution for this issue, when the count criteria for a network license is modified, all active sessions are automatically terminated.</td>
    </tr>
  </tbody>
</table>
<h3>Enhancements in Version 6.65</h3>
<table border="1" width="983">
  <tbody>
    <tr>
      <th scope="col" width="85">Reference</th>
      <th scope="col" width="836">Description</th>
    </tr>
    <tr>
      <td>LDK-4468</td>
      <td><p>The template for customizing entries for the Access log in  Sentinel License Manager has been enhanced. </p>
        <ul>
          <li><span dir="LTR"> </span>A new log element  (functionparams2) is available.</li>
          <li><span dir="LTR"> </span>Tags for special characters  that could not be used in the template until now are provided.</li>
          <li><span dir="LTR"> </span>Existing elements  (sessioncount, logincount, loginlimit) that did not provide reliable results  have been corrected.</li>
          <li><span dir="LTR"> </span>The following events are  now logged correctly: session timeout, orphaned session logout, manual  disconnect, AdminAPI disconnect.</li>
        </ul>
        <p>In addition, the template is now used for log entries  generated by Embedded License Managers and External License Managers.</p>
For  information on the log template, see the Edit Log Parameters screen and related  help screen in Admin Control Center. (Click the Edit Log Parameters button from  the Configuration - Basic Settings screen.)</td>
    </tr>
    <tr>
      <td>LDK-735</td>
      <td><p>Admin Control Center now enables the user to generate a C2V  file without the requirement of installing the RUS utility. This is supported  for Windows, Mac and Linux platforms. The following limitations apply:</p>
        <ul>
          <li><span dir="LTR"> </span>HL Basic keys are not  supported.<span dir="LTR"> </span></li>
          <li>C2V  files fetched from HASP HL and Sentinel HL (HASP Configuration) keys will not work with  Business Studio.</li>
        </ul>
      The C2V file can be  generated for locally-connected Sentinel HL, HASP HL, and SL AdminMode keys.</td>
    </tr>
  </tbody>
</table>
<h3><strong>Issues Resolved in</strong>&nbsp;Version 6.65</h3>
<table border="1" width="983">
  <tbody>
    <tr>
      <th scope="col" width="85">Reference</th>
      <th scope="col" width="836">Description</th>
    </tr>
    <tr>
      <td>LDK-7084</td>
      <td>The hasp_get_info() function in the Licensing API did not return consistent results for localhost when no IP address set in etc\hosts file for localhost. The function would return either localhost(127.0.0.1) or IPv4. To resolve this issue, the Licensing API must be upgraded to version 7.3 or later and the Run-time Environment must be upgraded to version 6.65 or later.</td>
    </tr>
    <tr>
      <td>LDK-5710</td>
      <td>When the real-time clock battery in a Sentinel HL  (Driverless configuration) keys is exhausted, the error code returned by the  hasp_login or hasp_login_scope function was HASP_INT_ERR instead of HASP_NO_BATTERY_POWER.</td>
    </tr>
    <tr>
      <td>LDK-5390</td>
      <td>If hasplms.exe is locked at the time the user attempts to upgrade the Run-time Environment, a misleading error message was displayed. The error message now provides an appropriate description of the issue.</td>
    </tr>
    <tr>
      <td>LDK-8895</td>
      <td>When an activated SL-Legacy license is installed on a machine that contains Products that have  clone protection disabled, and a user then attempts to detach a license, error 64 (clone detected) was generated. Now a license can be successfully detached.</td>
    </tr>
    <tr>
      <td>LDK-8936</td>
      <td>Installation of certain third party tools would cause the removal of a symbolic link from Hardlock drivers. As a result,  HL keys would become inaccessible.</td>
    </tr>
  </tbody>
</table>
<p><a href="#topics" style="text-decoration: none; ">Back to Topics</a></p>
<h2>Known Issues - Run-time
  Environment<a name="knownIssues"></a></h2>
<table border="1" height="97" width="988">
  <tbody>
    <tr>
      <th scope="col" width="90">Reference</th>
      <th scope="col" width="882">Description</th>
    </tr>
    <tr>
      <td>12506</td>
      <td> Sentinel LDK
communicates via TCP and UDP on port 1947. This port is IANA-registered
exclusively for this purpose. At the end user site, the firewall must
be configured so that communication via this port is not blocked.</td>
    </tr>
    <tr>
      <td>180256</td>
      <td>When a computer names
contains UTF-16 characters, Admin Control Center displays the short
name for the computer (similar to Windows Explorer). Similarly, the
sntl_admin_get function in Admin API returns the short name.</td>
    </tr>
    <tr>
      <td>182646</td>
      <td>After Windows 7 is
upgraded to Windows 8, the user is not able to use existing SL licenses
or to install new SL licenses.<br>
      <b>Workaround:</b>
After you upgrade from Windows 7 to Windows 8, reinstall the Run-time
Environment. </td>
    </tr>
    <tr>
      <td>LDK-2471</td>
      <td>Sentinel Licensing API:
On a computer with the Nvidia chip set GeForce 7025/nForce 630a, and
where the CPU is AMD Athlon 64 X2, the hasp_read and hasp_encrypt
functions may fail with error 39, HASP_BROKEN_SESSION. This problem
only exists with HASP HL keys with Firmware version 3.25.<br>
      <br>
      <strong>Workaround 1</strong>:
On the computer described above, when error 39 is returned, call the
hasp_read or hasp_encrypt function again. It is not necessary to call
hasp_login again.<br>
      <br>
      <strong>Workaround 2</strong>:
Use Sentinel HL keys with Firmware version 4.2x. </td>
    </tr>
    <tr>
      <td>LDK-8480</td>
      <td>With some new USB chipsets, it is possible that the API hasp_update() call, used to update the firmware of Sentinel HL keys to version 3.25, will generate the HASP_BROKEN_SESSION return code, even if the firmware is correctly updated. (This issue does not occur with Sentinel HL Driverless keys with firmware version 4.x.)<br>
        <strong>Workaround:</strong> Install the latest Run-time Environment. The automatic firmware update feature of the License Manager will automatically update the firmware of the key the first time that the key is connected, without the need to call hasp_update().</td>
    </tr>
    <tr>
      <td>LDK-11418</td>
      <td>For a Java 7 or Java 8 application that is protected with Envelope, the end user must use the following flag when launching the protected application:
        <UL type="square">
          <LI>For Java 7: Specify -usesplitverifier</LI>
          <LI>For Java 8: Specify -noverify</LI>
        </UL>
        If the appropriate flag is not specified, the application may throw java.verifyerror when launched.</td>
    </tr>
    <tr>
      <td>LDK-12145</td>
      <td>When a data file is protected with Version 2 data protection mode for Android platforms: If, for any reason (for example, no license was found), the protected application is not able to decrypt the protected data file, no error message is generated to explain why the file cannot be opened.</td>
    </tr>
  </tbody>
</table>
<p><a href="#topics" style="text-decoration: none; ">Back to Topics</a></p>
<p><font color="#000000" face="Palatino Linotype">Copyright
  &copy; 2015 SafeNet, Inc. All rights reserved.<br>
</font></p>
<div align="right"><font size="-2">DocID 129r Revision 1509-1</font></div>
</body>
</html>
